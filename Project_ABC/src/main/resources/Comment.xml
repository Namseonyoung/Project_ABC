<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
		
<mapper namespace="Comment">	
	
    <!-- 조회결과를 Comment 클래스의 어떤 속성에 대입할지 설정 -->
	<resultMap type="Comment" id="CommentResult">
		<result property="cnum" column="cnum" />
		<result property="comm" column="comm" />
		<result property="writedate" column="writedate" />
		<result property="writeip" column="writeip" />
		<result property="num" column="num" />			
	</resultMap>
	<!-- 
		게시물번호 num이 일치하는 커맨트정보를 조회
		실행할 쿼리 :
		  select cnum,comm,to_char(writedate,'rrrr/mm/dd hh24:mi:ss') as writedate,writeip,num from tb_comment where num=#{num}
	 -->
	<select id="selectCommentList" resultMap="CommentResult">
		<![CDATA[
			select cnum,comm,to_char(writedate,'rrrr/mm/dd hh24:mi:ss') as writedate,writeip,num
			from tb_comment
			where num=#{num}
		]]>
	</select>
  
	<!-- 
		커맨트 정보를 데이터베이스에 추가
		실행할 쿼리 :
		insert into tb_comment
		(cnum,comm,writedate,writeip,num)
		values (comment_seq.nextval,#{comm},#{writedate},
		#{writeip},#{num})
		 
	 -->
	<insert id="insertComment">
		<![CDATA[
			insert into tb_comment
				(cnum,comm,writedate,writeip,num)
			values (comment_seq.nextval,#{comm},sysdate,
				#{writeip},#{num})
		]]>
	</insert>

</mapper>













